# vim: set ft=sh :

example() {
    echo "argument = $1"
}

dirsize() {
    find $1 -maxdepth 1 -type d -exec du -hs {} \; | sort -k 2
}

nvim-session() {
    nvim=$(which nvim)
    project_name=$(basename $PWD)
    if [ -f ~/.sessions/$project_name.vim ]; then
        $nvim "+OpenSession $project_name" $*
    else
        $nvim $*
    fi
}

tmain() {
    tmux ls &>/dev/null
    if [ $? -eq 0 ]; then
        tmux setenv -g BACKGROUND $BACKGROUND
        tmux source ~/.tmux.conf
    fi
    tmux new-session -A -s kdunaev-main
}

treload() {
    tmux ls &>/dev/null
    if [ $? -eq 0 ]; then
        tmux setenv -g BACKGROUND $BACKGROUND
        tmux source ~/.tmux.conf
        tmux run source ~/.backgroundrc background $BACKGROUND
        tmux run source ~/.promptrc ps1 $BACKGROUND
    fi
}

tssh() {
    ssh $* -t "LC_ALL= tmux new-session -A -s kdunaev-main"
}

light() {
    background light
    ps1 light
}

dark() {
    background dark
    ps1 dark
}

